{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","handleChange","text","onChange","PersonForm","handleSubmission","nameValue","handleNameChange","numberValue","handleNumberChange","onSubmit","type","Persons","list","filterString","handleDelete","filter","person","name","toLowerCase","search","map","number","onClick","Notification","message","messageStyle","color","successful","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseURL","deleteUsingID","id","axios","delete","then","response","data","exports","getAll","get","create","newObject","post","update","put","deleteUsingObject","object","App","useState","persons","setPersons","query","setQuery","newName","setNewName","newNumber","setNewNumber","setMessage","resetForm","useEffect","console","log","personService","length","event","target","preventDefault","newPerson","matchResult","find","undefined","window","confirm","updatedPerson","setTimeout","catch","error","concat","numebrValue","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6791adb4.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n\tconst { value, handleChange, text } = props\n\n\treturn (\n\t\t<div>\n\t\t\t{text} <input\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={handleChange}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n\tconst {\n\t\thandleSubmission,\n\t\tnameValue,\n\t\thandleNameChange,\n\t\tnumberValue,\n\t\thandleNumberChange,\n\t} = props\n\n\treturn (\n\t\t<form onSubmit={handleSubmission}>\n\t\t\t<div>\n\t\t\t\tname: <input\n\t\t\t\t\tvalue={nameValue}\n\t\t\t\t\tonChange={handleNameChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber: <input\n\t\t\t\t\tvalue={numberValue}\n\t\t\t\t\tonChange={handleNumberChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = (props) => {\n\tconst { list, filterString, handleDelete } = props\n\n\treturn (\n\t\t<ul>\n\t\t\t{\n\t\t\t\tlist.filter(person =>\n\t\t\t\t\tperson.name.toLowerCase().search(filterString.toLowerCase()) !== -1\n\t\t\t\t)\n\t\t\t\t\t.map(person =>\n\t\t\t\t\t\t<li key={person.name}>\n\t\t\t\t\t\t\t{person.name} {person.number}\n\t\t\t\t\t\t\t<button onClick={handleDelete(person)}>delete</button>\n\t\t\t\t\t\t</li>)\n\t\t\t}\n\t\t</ul>\n\t)\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message }) => {\n\tif (message === null) {\n\t\treturn <div></div>\n\t}\n\n\tconst { text, successful } = message\n\n\tconst messageStyle = {\n\t\tcolor: successful ? 'green' : 'red',\n\t\tbackground: 'lightgrey',\n\t\tfontSize: 20,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10\n\t}\n\n\treturn (\n\t\t<div style={messageStyle}>\n\t\t\t{text}\n\t\t</div>\n\t)\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseURL)\n\treturn request.then(response => response.data)\n}\n\nconst create = newObject => {\n\tconst request = axios.post(baseURL, newObject)\n\treturn request.then(response => response.data)\n}\n\n// Not required to be completed at this point\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseURL}/${id}`, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst deleteUsingID = id => {\n\tconst request = axios.delete(`${baseURL}/${id}`)\n\treturn request.then(response => response.data)\n}\n\nconst deleteUsingObject = object => {\n\treturn deleteUsingID(object.id)\n}\n\nconst exports =  {\n\tgetAll,\n\tcreate,\n\tupdate,\n\tdeleteUsingID,\n\tdeleteUsingObject,\n}\n\nexport default exports","import React, { useEffect, useState } from 'react'\n\n// import React components\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\n\nconst App = () => {\n\t// state\n\tconst [persons, setPersons] = useState([])\n\tconst [query, setQuery] = useState('')\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\t// Message example:\n\t// { text: \"Text\", successful: true }\n\tconst [message, setMessage] = useState(null)\n\n\t// reset form\n\tconst resetForm = () => {\n\t\tsetNewName('')\n\t\tsetNewNumber('')\n\t}\n\n\t// load data from server\n\tuseEffect(() => {\n\t\tconsole.log('effect')\n\t\tpersonService\n\t\t\t.getAll()\n\t\t\t.then(persons => {\n\t\t\t\tconsole.log('promise fulfilled')\n\t\t\t\tsetPersons(persons)\n\t\t\t})\n\t}, [])\n\tconsole.log('rendered', persons.length, 'persons')\n\n\t// modifies state when an input is changed\n\tconst handleQueryChange = event => {\n\t\tconsole.log(event.target.value)\n\t\tsetQuery(event.target.value)\n\t}\n\tconst handleNewNameChange = event => {\n\t\tconsole.log(event.target.value)\n\t\tsetNewName(event.target.value)\n\t}\n\tconst handleNewNumberChange = event => {\n\t\tconsole.log(event.target.value)\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\t// adds a person object to the list of persons\n\tconst addName = event => {\n\t\tevent.preventDefault()\n\t\tconsole.log('attempting to add name')\n\n\t\t// check for empty name\n\t\tif (newName === '') {\n\t\t\tconsole.log('empty name was not submitted')\n\t\t\treturn\n\t\t}\n\n\t\t// create person object using name and number\n\t\tconst newPerson = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t}\n\t\tconsole.log('new person', newPerson)\n\n\t\t// check for duplicates, prompts for replacement if duplicate found\n\t\tconst matchResult = persons.find(person => person.name === newName)\n\t\tconsole.log('found match:', matchResult)\n\n\t\tif (matchResult !== undefined\n      && window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\n\t\t\tpersonService\n\t\t\t\t.update(matchResult.id, newPerson)\n\t\t\t\t.then(updatedPerson => {\n\t\t\t\t\tconsole.log('updated person', updatedPerson)\n\t\t\t\t\t// update the array with the replaced person\n\t\t\t\t\tsetPersons(persons.map(person => {\n\t\t\t\t\t\treturn person.id === updatedPerson.id ? updatedPerson : person\n\t\t\t\t\t}))\n\t\t\t\t\t// reset forms\n\t\t\t\t\tresetForm()\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetMessage({ text: `Updated ${newName}`, successful: true })\n\t\t\t\t\tsetTimeout(() => setMessage(null), 5000)\n\t\t\t\t})\n\t\t\t// handle updating of entries that do not exist\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error(error.response.data)\n\t\t\t\t\tif (error.response.data.error.search('shorter than')) {\n\t\t\t\t\t\tsetMessage({\n\t\t\t\t\t\t\ttext: error.response.data.error,\n\t\t\t\t\t\t\tsuccessful: false\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('A')\n\t\t\t\t\t\tsetPersons(persons.filter(person => {\n\t\t\t\t\t\t\treturn person.id !== matchResult.id\n\t\t\t\t\t\t}))\n\t\t\t\t\t\tsetMessage({\n\t\t\t\t\t\t\ttext: error.response.data.error,\n\t\t\t\t\t\t\tsuccessful: false\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(() => setMessage(null), 5000)\n\t\t\t\t})\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.log('B')\n\t\t\t\t\tsetPersons(persons.filter(person => {\n\t\t\t\t\t\treturn person.id !== matchResult.id\n\t\t\t\t\t}))\n\t\t\t\t\tsetMessage({\n\t\t\t\t\t\ttext: `Information of ${matchResult.name} has already been removed from server`,\n\t\t\t\t\t\tsuccessful: false\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => setMessage(null), 5000)\n\t\t\t\t})\n\n\t\t\treturn\n\t\t}\n\n\t\t// save data to server if there are no issues\n\t\tpersonService\n\t\t\t.create(newPerson)\n\t\t\t.then(person => {\n\t\t\t\t// concat person object to list\n\t\t\t\tsetPersons(persons.concat(person))\n\t\t\t\t// reset forms\n\t\t\t\tresetForm()\n\t\t\t\tconsole.log('new person added to list', persons, newPerson)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t// set message\n\t\t\t\tsetMessage({ text: `Added ${newName}`, successful: true })\n\t\t\t\tsetTimeout(() => setMessage(null), 5000)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error.response.data)\n\t\t\t\t// set error message\n\t\t\t\tsetMessage({ text: error.response.data.error, successful: false })\n\t\t\t\tsetTimeout(() => setMessage(null), 5000)\n\t\t\t})\n\n\t}\n\n\t// creates a function that deletes a specified person object upon confirmation\n\tconst deletePerson = (person) => {\n\t\treturn () => {\n\t\t\tif (window.confirm(`Delete ${person.name}?`)) {\n\t\t\t\tpersonService\n\t\t\t\t\t.deleteUsingObject(person)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// remove person from display\n\t\t\t\t\t\tsetPersons(persons.filter(p => p !== person))\n\t\t\t\t\t\t// show message\n\t\t\t\t\t\tsetMessage({ text: `Deleted ${person.name}`, successful: true })\n\t\t\t\t\t\tsetTimeout(() => setMessage(null), 5000)\n\t\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tconsole.log('rendering with', persons)\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={message} />\n\t\t\t<Filter\n\t\t\t\tvalue={query}\n\t\t\t\thandleChange={handleQueryChange}\n\t\t\t\ttext=\"filter shown with\"\n\t\t\t/>\n\n\t\t\t<h2>add a new</h2>\n\t\t\t<PersonForm\n\t\t\t\thandleSubmission={addName}\n\t\t\t\tnameValue={newName}\n\t\t\t\thandleNameChange={handleNewNameChange}\n\t\t\t\tnumebrValue={newNumber}\n\t\t\t\thandleNumberChange={handleNewNumberChange}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons\n\t\t\t\tlist={persons}\n\t\t\t\tfilterString={query}\n\t\t\t\thandleDelete={deletePerson}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n)"],"sourceRoot":""}